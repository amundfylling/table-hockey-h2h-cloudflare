<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Table Hockey H2H</title>
  <meta name="description" content="Head-to-head comparisons for table hockey matchups." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Fraunces:wght@600;700&family=Manrope:wght@400;500;600;700&display=swap"
    rel="stylesheet" />
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="background">
    <div class="glow glow-one"></div>
    <div class="glow glow-two"></div>
    <div class="grid"></div>
  </div>

  <header class="site-header">
    <div class="brand">
      <div class="logo" aria-hidden="true">
        <svg viewBox="0 0 48 48" fill="none">
          <circle cx="24" cy="24" r="22" fill="currentColor" opacity="0.15" />
          <path d="M16 14v20l4-3V17l-4-3z" fill="currentColor" />
          <path d="M32 14v20l-4-3V17l4-3z" fill="currentColor" />
          <circle cx="24" cy="24" r="6" fill="currentColor" />
          <circle cx="24" cy="24" r="3" fill="none" stroke="currentColor" stroke-width="1.5" />
          <path d="M12 24h6m12 0h6" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
      </div>
      <div>
        <h1>Table Hockey H2H</h1>

      </div>
    </div>
    <div class="header-actions">
      <button id="theme-toggle" class="ghost icon-btn theme-btn" type="button" aria-label="Toggle theme">
        <svg class="theme-icon sun" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="5"></circle>
          <line x1="12" y1="1" x2="12" y2="3"></line>
          <line x1="12" y1="21" x2="12" y2="23"></line>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
          <line x1="1" y1="12" x2="3" y2="12"></line>
          <line x1="21" y1="12" x2="23" y2="12"></line>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
        <svg class="theme-icon moon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
      </button>
    </div>
  </header>

  <main class="container">
    <section class="card selection-card">
      <div class="selection-grid">
        <div class="player-field" data-player="a">
          <label for="player-a">Player 1</label>
          <div class="input-shell">
            <input id="player-a" type="text" autocomplete="off" placeholder="Search player" />
            <button class="icon-btn" type="button" data-clear="a" aria-label="Clear Player 1">x</button>
          </div>
          <div id="player-a-list" class="typeahead" role="listbox" aria-label="Player 1 suggestions"></div>
        </div>

        <button id="swap-btn" class="swap-btn" type="button" aria-label="Swap players">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="17 1 21 5 17 9"></polyline>
            <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
            <polyline points="7 23 3 19 7 15"></polyline>
            <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
          </svg>
        </button>

        <div class="player-field" data-player="b">
          <label for="player-b">Player 2</label>
          <div class="input-shell">
            <input id="player-b" type="text" autocomplete="off" placeholder="Select Player 1 first" disabled />
            <span id="player-b-loader" class="input-loader" hidden></span>
            <button class="icon-btn" type="button" data-clear="b" aria-label="Clear Player 2">x</button>
          </div>
          <div id="player-b-list" class="typeahead" role="listbox" aria-label="Player 2 suggestions"></div>
        </div>
      </div>

      <div class="selection-actions">
        <button id="compare-btn" class="primary" type="button">Compare</button>
        <button id="copy-link-btn" class="ghost" type="button">Copy link</button>
        <p id="status" class="status" role="status" aria-live="polite"></p>
      </div>

      <div class="recent">
        <div class="recent-title">Recent matchups</div>
        <div id="recent-list" class="recent-list"></div>
      </div>
    </section>

    <section class="card stage-card">
      <div class="tabs" role="tablist" aria-label="Stage filter">
        <button class="tab is-active" role="tab" aria-selected="true" data-stage="overall">Overall</button>
        <button class="tab" role="tab" aria-selected="false" data-stage="round-robin">Round-robin</button>
        <button class="tab" role="tab" aria-selected="false" data-stage="playoff">Playoff</button>
      </div>
      <div id="stage-meta" class="stage-meta"></div>
    </section>

    <section class="summary-section">
      <div class="summary-header">
        <div>
          <h2 id="headline">Pick two players</h2>
          <p id="subhead">Matchup stats and filters appear once you compare.</p>
        </div>
        <div id="record" class="record"></div>
      </div>
      <div id="summary-grid" class="summary-grid"></div>
    </section>

    <section class="card viz-card">
      <div class="viz-grid">
        <div class="viz-block">
          <div id="form-title" class="viz-title">Form (last 10)</div>
          <div id="form-chips" class="form-chips"></div>
        </div>
        <div class="viz-block">
          <div class="viz-title with-info">
            <span class="viz-title-text">Cumulative record</span>
            <span class="info-wrap">
              <button class="info-btn" type="button" aria-label="About cumulative record"
                aria-describedby="cumulative-info" aria-expanded="false">
                i
              </button>
              <span id="cumulative-info" class="info-tooltip" role="tooltip">
                Shows the running balance of wins minus losses. If this is 1, it means that the first selected player
                has won one more game than Player 2 and vice versa if it is -1.
              </span>
            </span>
          </div>
          <div id="record-chart" class="chart"></div>
        </div>
        <div class="viz-block">
          <div class="viz-title">Average goals by year</div>
          <div id="goals-chart" class="chart"></div>
        </div>
      </div>
    </section>

    <!-- Sticky Filter Toggle Button -->
    <button id="filter-toggle" class="primary sticky-filter-btn" type="button">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <line x1="4" y1="21" x2="4" y2="14"></line>
        <line x1="4" y1="10" x2="4" y2="3"></line>
        <line x1="12" y1="21" x2="12" y2="12"></line>
        <line x1="12" y1="8" x2="12" y2="3"></line>
        <line x1="20" y1="21" x2="20" y2="16"></line>
        <line x1="20" y1="12" x2="20" y2="3"></line>
        <line x1="1" y1="14" x2="7" y2="14"></line>
        <line x1="9" y1="8" x2="15" y2="8"></line>
        <line x1="17" y1="16" x2="23" y2="16"></line>
      </svg>
      Filters
      <span id="filter-badge" class="filter-badge" hidden></span>
    </button>

    <!-- Filter Menu Sidebar -->
    <div id="filter-backdrop" class="filter-backdrop" hidden></div>
    <div id="filter-menu" class="filter-menu" hidden>
      <div class="filter-header">
        <h3>Filters</h3>
        <div class="filter-header-actions">
          <button id="filter-reset" class="ghost filter-reset-btn" type="button">Reset</button>
          <button id="filter-close" class="ghost icon-btn" type="button" aria-label="Close filters">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>
      <div class="filter-content">
        <div class="filter">
          <label for="search-filter">Search</label>
          <input id="search-filter" type="search" placeholder="Tournament or stage" />
        </div>
        <div class="filter">
          <label for="year-filter">Year</label>
          <select id="year-filter"></select>
        </div>
        <div class="filter">
          <label for="tournament-filter">Tournament</label>
          <select id="tournament-filter"></select>
        </div>
        <div class="filter">
          <label for="stage-filter">Stage detail</label>
          <select id="stage-filter"></select>
        </div>
        <div class="filter">
          <label for="sort-filter">Sort</label>
          <select id="sort-filter">
            <option value="date-desc">Date (newest)</option>
            <option value="date-asc">Date (oldest)</option>
            <option value="tournament">Tournament (A-Z)</option>
            <option value="diff-desc">Goal diff (largest)</option>
            <option value="diff-asc">Goal diff (smallest)</option>
          </select>
        </div>
        <div class="filter">
          <label>Options</label>
          <div class="toggle-group vertical">
            <label class="toggle">
              <input id="ot-toggle" type="checkbox" />
              <span>Only overtime</span>
            </label>
            <label class="toggle">
              <input id="tight-toggle" type="checkbox" />
              <span>Only tight games</span>
            </label>
          </div>
        </div>
      </div>
    </div>

    <section class="card matches-card">
      <div class="matches-header">
        <div>
          <h3>Match list</h3>
          <p id="match-count" class="muted">0 matches</p>
        </div>
        <div class="header-controls">
          <div class="rows-selector">
            <label for="page-size">Rows</label>
            <select id="page-size">
              <option value="25">25</option>
              <option value="50" selected>50</option>
              <option value="100">100</option>
            </select>
          </div>
          <div class="pagination" id="pagination-top">
            <button id="prev-page" class="ghost" type="button">Prev</button>
            <span id="page-info" class="page-info">Page 1 of 1</span>
            <button id="next-page" class="ghost" type="button">Next</button>
          </div>
        </div>
      </div>
      <div class="table-wrap">
        <table id="matches-table">
          <thead>
            <tr>
              <th></th>
              <th>Date</th>
              <th>Tournament</th>
              <th>Stage</th>
              <th>Round</th>
              <th>Score</th>
              <th>OT</th>
              <th>Winner</th>
            </tr>
          </thead>
          <tbody id="matches-body"></tbody>
        </table>
      </div>
      <div class="pagination" id="pagination-bottom">
        <button id="prev-page-bottom" class="ghost" type="button">Prev</button>
        <span id="page-info-bottom" class="page-info">Page 1 of 1</span>
        <button id="next-page-bottom" class="ghost" type="button">Next</button>
      </div>
    </section>

    <section id="empty-state" class="card empty-state" hidden>
      <h3>No matches yet</h3>
      <p>These players have not faced each other in the dataset.</p>
    </section>

    <section id="error-state" class="card empty-state" hidden>
      <h3>Something went wrong</h3>
      <p>We could not load this matchup. Please try again.</p>
    </section>
  </main>

  <footer class="site-footer">
    <p>Data sourced from <a href="https://github.com/amundfylling/Scorpion-Scraper-2.0" target="_blank"
        rel="noopener">Scorpion Scraper</a></p>
  </footer>

  <script src="app.js" defer></script>
</body>

</html>